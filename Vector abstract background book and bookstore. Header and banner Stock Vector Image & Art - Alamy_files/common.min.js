(function(){function d(){this.eventHandlers={}}d.prototype.getOS=function(){var a=["Macintosh","MacIntel","MacPPC","Mac68K"],b=["Win32","Win64","Win16","Windows","WinCE"],f=["iPhone","iPad","iPod"],e=navigator.platform,c="";e&&(-1!==a.indexOf(e)?c="Mac":-1!==f.indexOf(e)?c="IOS":-1!==b.indexOf(e)?c="Windows":/Linux/.test(e)||/Android/.test(e)?c="Linux":c||(c="OtherOS"));return c};d.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")};d.prototype.outputToConsole=function(a,
b){if((embedded_svc.settings&&embedded_svc.settings.devMode||embedded_svc.menu&&embedded_svc.menu.settings.devMode)&&console&&console[a])console[a]("[Embedded-Service] "+(Array.isArray(b)?b.join(", "):b))};d.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))};d.prototype.error=function(a){a?this.outputToConsole("error",a):this.outputToConsole("error","unspecified error.")};d.prototype.warning=function(a){a?this.outputToConsole("warn","Warning: "+a):this.outputToConsole("warn",
"anonymous warning.")};d.prototype.deprecated=function(a,b){this.warning(a+" is deprecated in version "+Number(b).toFixed(1)+" and will be removed in version "+(Number(b)+1).toFixed(1))};d.prototype.isOrganizationId=function(a){return"00D"===this.getKeyPrefix(a)};d.prototype.getKeyPrefix=function(a){if(this.isValidEntityId(a))return a.substr(0,3)};d.prototype.isValidEntityId=function(a){return"string"===typeof a&&(18===a.length||15===a.length)};d.prototype.addEventHandler=function(a,b){a=a.toLowerCase();
this.eventHandlers[a]||(this.eventHandlers[a]=[]);this.eventHandlers[a].push(b)};d.prototype.fireEvent=function(a,b,f){a=this.eventHandlers[a.toLowerCase()];var e=[],c=f;!f||f instanceof Array||(c=[f]);a&&a.forEach(function(g){e.push(g.apply(void 0,c))});return b?b(e):!0};d.prototype.isCommunityOrSite=function(){return window.$A&&"function"===typeof window.$A.get&&window.$A.get("$Site")};d.prototype.loadScriptFromUrl=function(a,b,f,e){var c=document.createElement("script");e&&(c.id=e);c.type="text/javascript";
b&&(c.onload=b);f&&(c.onerror=f);c.src=a;document.body.appendChild(c)};d.prototype.generateResourceUrl=function(a,b){return a+"/resource/"+b};d.prototype.isMatchingCustomizationFound=function(a,b){var f=!1;a.customizations&&Array.isArray(a.customizations)&&b&&"string"===typeof b&&((f=a.customizations.some(function(e){return e&&e.hasOwnProperty("name")?e.name===b:!1}))||embedded_svc.utils.log("No customizations with code settings name "+b+" found."));return f};d.prototype.processCustomizations=function(a,
b,f){var e;b=b.customizations.filter(function(c){return c.name===a});(b=0<b.length?b[0]:null)&&b.hasOwnProperty("resources")&&Array.isArray(b.resources)&&0<b.resources.length&&b.resources.forEach(function(c){c&&c.hasOwnProperty("type")&&c.type&&f.hasOwnProperty(c.type)&&"function"===typeof f[c.type]&&(e=f[c.type],e(c))})};d.prototype.getSiteEndpointUrl=function(a){return a.siteUrl?a.siteUrl:null};d.prototype.isUseriOS15plusSafari=function(){var a=!!navigator.userAgent.match(/iP(hone|ad|od)/i),b=navigator.userAgent.match(/(?!=OS)(([0-9]){2})/i);
b=b&&0<b.length?Number(b[0]):-1;var f=!!navigator.userAgent.match(/WebKit/i)&&!navigator.userAgent.match(/CriOS/i);return a&&f&&15<=b};window.embedded_svc.utils=new d})();
